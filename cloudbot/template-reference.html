<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Template Reference | TMI.php</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-BVCGWNDSYJ"></script>
    <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-BVCGWNDSYJ');
        </script>
    <script src="https://storage.ko-fi.com/cdn/scripts/overlay-widget.js"></script>
    <meta name="description" content="The Twitch Message Interface for PHP 7.4+">
    <meta name="theme-color" content="#6d00ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.c6579106.css" as="style"><link rel="preload" href="/assets/js/app.7fb1c865.js" as="script"><link rel="preload" href="/assets/js/2.dae40f8a.js" as="script"><link rel="preload" href="/assets/js/17.26606a8a.js" as="script"><link rel="preload" href="/assets/js/4.35ab57a0.js" as="script"><link rel="prefetch" href="/assets/js/10.097d4842.js"><link rel="prefetch" href="/assets/js/11.c9047bd6.js"><link rel="prefetch" href="/assets/js/12.05b83e2f.js"><link rel="prefetch" href="/assets/js/13.d622c13e.js"><link rel="prefetch" href="/assets/js/14.4daae502.js"><link rel="prefetch" href="/assets/js/15.9cc25cec.js"><link rel="prefetch" href="/assets/js/16.4a6925ee.js"><link rel="prefetch" href="/assets/js/18.8f916308.js"><link rel="prefetch" href="/assets/js/19.64010cd6.js"><link rel="prefetch" href="/assets/js/20.4f18344d.js"><link rel="prefetch" href="/assets/js/21.508be964.js"><link rel="prefetch" href="/assets/js/22.0fe6e0a2.js"><link rel="prefetch" href="/assets/js/3.3d8a9167.js"><link rel="prefetch" href="/assets/js/5.b8eb358f.js"><link rel="prefetch" href="/assets/js/6.6de06d21.js"><link rel="prefetch" href="/assets/js/7.a4914bb9.js"><link rel="prefetch" href="/assets/js/8.37adbc9c.js"><link rel="prefetch" href="/assets/js/9.e0b79f5d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c6579106.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">TMI.php</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Official Packages Menu" class="dropdown-title"><span class="title">Official Packages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Official Packages Menu" class="mobile-dropdown-title"><span class="title">Official Packages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/commander.html" class="nav-link">
  Commander
</a></li><li class="dropdown-item"><!----> <a href="/docs/inspector.html" class="nav-link">
  Inspector
</a></li><li class="dropdown-item"><!----> <a href="/docs/tmi-cluster.html" class="nav-link">
  TMI Cluster
</a></li></ul></div></div><div class="nav-item"><a href="https://discord.gg/qsxVMNg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ghostzero/tmi-website" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Official Packages Menu" class="dropdown-title"><span class="title">Official Packages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Official Packages Menu" class="mobile-dropdown-title"><span class="title">Official Packages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/commander.html" class="nav-link">
  Commander
</a></li><li class="dropdown-item"><!----> <a href="/docs/inspector.html" class="nav-link">
  Inspector
</a></li><li class="dropdown-item"><!----> <a href="/docs/tmi-cluster.html" class="nav-link">
  TMI Cluster
</a></li></ul></div></div><div class="nav-item"><a href="https://discord.gg/qsxVMNg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ghostzero/tmi-website" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>[Private] OWN3D Cloudbot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cloudbot/" aria-current="page" class="sidebar-link">Getting Started</a></li><li><a href="/cloudbot/auto-mod.html" class="sidebar-link">Auto Mod</a></li><li><a href="/cloudbot/timers.html" class="sidebar-link">Timers</a></li><li><a href="/cloudbot/giveaways.html" class="sidebar-link">Giveaways</a></li><li><a href="/cloudbot/command-settings.html" class="sidebar-link">Command Settings</a></li><li><a href="/cloudbot/custom-commands.html" class="sidebar-link">Custom Commands</a></li><li><a href="/cloudbot/template-reference.html" aria-current="page" class="active sidebar-link">Template Reference</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cloudbot/template-reference.html#command" class="sidebar-link">Command</a></li><li class="sidebar-sub-header"><a href="/cloudbot/template-reference.html#arguments" class="sidebar-link">Arguments</a></li><li class="sidebar-sub-header"><a href="/cloudbot/template-reference.html#irc" class="sidebar-link">IRC</a></li><li class="sidebar-sub-header"><a href="/cloudbot/template-reference.html#object-reference" class="sidebar-link">Object Reference</a></li><li class="sidebar-sub-header"><a href="/cloudbot/template-reference.html#functions" class="sidebar-link">Functions</a></li></ul></li><li><a href="/cloudbot/all-commands.html" class="sidebar-link">All Commands</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="template-reference"><a href="#template-reference" class="header-anchor">#</a> Template Reference</h1> <p>Each command has a context, which describes where the command was called and which command it is.</p> <h2 id="command"><a href="#command" class="header-anchor">#</a> Command</h2> <table><thead><tr><th>Field</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>command.command</td> <td>string</td> <td>The command.</td></tr> <tr><td>command.commands</td> <td>array</td> <td>List of all aliases including base command.</td></tr> <tr><td>command.command_aliases</td> <td>array</td> <td>List of all aliases without base command.</td></tr> <tr><td>command.response</td> <td>mixed</td> <td>User defined response or template script.</td></tr> <tr><td>command.command_regex</td> <td>string</td> <td>Not used. Regex that will be evaluated when a user enters a command.</td></tr> <tr><td>command.permissions</td> <td>int</td> <td>Limit who can execute the command.</td></tr> <tr><td>command.price</td> <td>int</td> <td>Price paid for each call.</td></tr> <tr><td>command.send_as</td> <td>string</td> <td>The way the response is sent.</td></tr> <tr><td>command.enable_when</td> <td>string</td> <td>Commands can only be triggered offline/online/both.</td></tr> <tr><td>command.user_cooldown</td> <td>int</td> <td>User Cooldown in seconds during which the command may not be executed.</td></tr> <tr><td>command.global_cooldown</td> <td>int</td> <td>Channel Cooldown in seconds during which the command may not be executed.</td></tr> <tr><td>command.is_visible</td> <td>bool</td> <td>Indicating whether the command is displayed in the command overview.</td></tr></tbody></table> <h2 id="arguments"><a href="#arguments" class="header-anchor">#</a> Arguments</h2> <table><thead><tr><th>Field</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>args</td> <td>array</td> <td>List of all arguments including base command.</td></tr></tbody></table> <h2 id="irc"><a href="#irc" class="header-anchor">#</a> IRC</h2> <table><thead><tr><th>Field</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>irc.tags</td> <td>mixed</td> <td>Twitch IRC user state object. Please checkout <a href="https://dev.twitch.tv/docs/irc/tags#userstate-twitch-tags" target="_blank" rel="noopener noreferrer"><code>USERSTATE</code> (Twitch Tags)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more information about existing tags.</td></tr> <tr><td>irc.channel</td> <td>string</td> <td>Raw channel username.</td></tr> <tr><td>irc.message</td> <td>string</td> <td>Raw message.</td></tr></tbody></table> <h2 id="object-reference"><a href="#object-reference" class="header-anchor">#</a> Object Reference</h2> <p>Some functions (described below) of the chatbot return objects. All objects are listed here:</p> <h3 id="user"><a href="#user" class="header-anchor">#</a> User</h3> <table><thead><tr><th>Field</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>string</td> <td>User's ID.</td></tr> <tr><td>name</td> <td>string</td> <td>User's display name.</td></tr> <tr><td>type</td> <td>string</td> <td>User's broadcaster type: &quot;partner&quot;, &quot;affiliate&quot;, or &quot;&quot;.</td></tr> <tr><td>description</td> <td>string</td> <td>User's channel description.</td></tr> <tr><td>view_count</td> <td>int</td> <td>Total number of views of the user's channel.</td></tr></tbody></table> <h3 id="channel"><a href="#channel" class="header-anchor">#</a> Channel</h3> <table><thead><tr><th>Field</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>string</td> <td>Twitch User ID of this channel owner.</td></tr> <tr><td>name</td> <td>string</td> <td>Twitch user display name of this channel owner</td></tr> <tr><td>url</td> <td>string</td> <td>Link to the channel.</td></tr> <tr><td>language</td> <td>string</td> <td>Language of the channel.</td></tr> <tr><td>title</td> <td>string</td> <td>Title of the stream.</td></tr> <tr><td>game</td> <td>string</td> <td>Name of the game being played on the channel.</td></tr></tbody></table> <h2 id="functions"><a href="#functions" class="header-anchor">#</a> Functions <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>beta</span></h2> <h3 id="database"><a href="#database" class="header-anchor">#</a> Database</h3> <p>You have access to a basic set of Database functions, this is almost a key value store ordered by the key and value combined.</p> <p>We lazy-load the data from the database. This means that if you use <code>set</code> and then make a <code>db</code>, you may still have cached data.</p> <table><thead><tr><th>Function</th> <th>Description</th></tr></thead> <tbody><tr><td><code>db('channel').name</code></td> <td>Fetch the <code>name</code> from the <code>channel</code> table.</td></tr> <tr><td><code>inc('membership', 'currency', 1)</code></td> <td>Increment the <code>currency</code> from the <code>membership</code> table.</td></tr> <tr><td><code>dec('membership', 'currency', 1)</code></td> <td>Decrement the <code>currency</code> from the <code>membership</code> table.</td></tr> <tr><td><code>set('membership', 'currency', 1)</code></td> <td>Set the <code>currency</code> from the <code>membership</code> table.</td></tr></tbody></table> <h3 id="cache"><a href="#cache" class="header-anchor">#</a> Cache</h3> <p>You also have access to a basic set of Cache functions, this is almost a key value store ordered by the key and value combined.</p> <p>Data is stored in the cache for a maximum of one day. Always assume that data could not exist in a cache.</p> <table><thead><tr><th>Function</th> <th>Description</th></tr></thead> <tbody><tr><td><code>cache('timely')</code></td> <td>Fetch the value for the specified <code>key</code>.</td></tr> <tr><td><code>cache('timely', 1, 300)</code></td> <td>Sets the value for the specified <code>key</code> to the specified value. With Expiration in seconds.</td></tr> <tr><td><code>cache('timely', 1)</code></td> <td>Sets the value for the specified <code>key</code> to the specified value. With a default expiration of one day.</td></tr></tbody></table> <h3 id="api"><a href="#api" class="header-anchor">#</a> API</h3> <p>If you want to retrieve twitch related information, then the following methods are available to you.
Note that twitch now works with ID's instead of login name, so for some functions you have to enter the
user ID instead of login name.</p> <table><thead><tr><th>Function</th> <th>Description</th></tr></thead> <tbody><tr><td><code>user('username')</code></td> <td>Fetch the user object from the twitch api by login name. The response returns a <code>User</code> object or null.</td></tr> <tr><td><code>channel('106415581')</code></td> <td>Fetch the channel object from the twitch api by user-id. The response returns a <code>Channel</code> object or null.</td></tr></tbody></table> <h3 id="http-json-requests"><a href="#http-json-requests" class="header-anchor">#</a> HTTP JSON Requests</h3> <p>With the <code>json</code> function you can download data from a JSON API. The response can be an <code>array</code>, or <code>null</code> if the api returns an error.</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">Random Quote:</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">json</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>GET<span class="token punctuation">'</span></span><span class="token punctuation">,</span> <span class="token string"><span class="token punctuation">'</span>https://api.quotable.io/random<span class="token punctuation">'</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">content</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Cache your json responses. Requests that take longer than 5 seconds are automatically aborted. Furthermore, this method has a rate limit of 15 requests per minute.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ghostzero/tmi-website/edit/main/docs/cloudbot/template-reference.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/16/2022, 11:55:04 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cloudbot/custom-commands.html" class="prev">
        Custom Commands
      </a></span> <span class="next"><a href="/cloudbot/all-commands.html">
        All Commands
      </a>
      →
    </span></p></div> </main></div> <script>
    kofiWidgetOverlay.draw('ene', {
      'type': 'floating-chat',
      'floating-chat.donateButton.text': 'Support me',
      'floating-chat.donateButton.background-color': '#ff38b8',
      'floating-chat.donateButton.text-color': '#fff'
    });
  </script></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7fb1c865.js" defer></script><script src="/assets/js/2.dae40f8a.js" defer></script><script src="/assets/js/17.26606a8a.js" defer></script><script src="/assets/js/4.35ab57a0.js" defer></script>
  </body>
</html>
