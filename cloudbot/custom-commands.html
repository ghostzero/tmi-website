<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Commands | TMI.php</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-BVCGWNDSYJ"></script>
    <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-BVCGWNDSYJ');
        </script>
    <script src="https://storage.ko-fi.com/cdn/scripts/overlay-widget.js"></script>
    <meta name="description" content="The Twitch Message Interface for PHP 7.4+">
    <meta name="theme-color" content="#6d00ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.c6579106.css" as="style"><link rel="preload" href="/assets/js/app.7fb1c865.js" as="script"><link rel="preload" href="/assets/js/2.dae40f8a.js" as="script"><link rel="preload" href="/assets/js/9.e0b79f5d.js" as="script"><link rel="prefetch" href="/assets/js/10.097d4842.js"><link rel="prefetch" href="/assets/js/11.c9047bd6.js"><link rel="prefetch" href="/assets/js/12.05b83e2f.js"><link rel="prefetch" href="/assets/js/13.d622c13e.js"><link rel="prefetch" href="/assets/js/14.4daae502.js"><link rel="prefetch" href="/assets/js/15.9cc25cec.js"><link rel="prefetch" href="/assets/js/16.4a6925ee.js"><link rel="prefetch" href="/assets/js/17.26606a8a.js"><link rel="prefetch" href="/assets/js/18.8f916308.js"><link rel="prefetch" href="/assets/js/19.64010cd6.js"><link rel="prefetch" href="/assets/js/20.4f18344d.js"><link rel="prefetch" href="/assets/js/21.508be964.js"><link rel="prefetch" href="/assets/js/22.0fe6e0a2.js"><link rel="prefetch" href="/assets/js/3.3d8a9167.js"><link rel="prefetch" href="/assets/js/4.35ab57a0.js"><link rel="prefetch" href="/assets/js/5.b8eb358f.js"><link rel="prefetch" href="/assets/js/6.6de06d21.js"><link rel="prefetch" href="/assets/js/7.a4914bb9.js"><link rel="prefetch" href="/assets/js/8.37adbc9c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c6579106.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">TMI.php</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Official Packages Menu" class="dropdown-title"><span class="title">Official Packages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Official Packages Menu" class="mobile-dropdown-title"><span class="title">Official Packages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/commander.html" class="nav-link">
  Commander
</a></li><li class="dropdown-item"><!----> <a href="/docs/inspector.html" class="nav-link">
  Inspector
</a></li><li class="dropdown-item"><!----> <a href="/docs/tmi-cluster.html" class="nav-link">
  TMI Cluster
</a></li></ul></div></div><div class="nav-item"><a href="https://discord.gg/qsxVMNg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ghostzero/tmi-website" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Official Packages Menu" class="dropdown-title"><span class="title">Official Packages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Official Packages Menu" class="mobile-dropdown-title"><span class="title">Official Packages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/commander.html" class="nav-link">
  Commander
</a></li><li class="dropdown-item"><!----> <a href="/docs/inspector.html" class="nav-link">
  Inspector
</a></li><li class="dropdown-item"><!----> <a href="/docs/tmi-cluster.html" class="nav-link">
  TMI Cluster
</a></li></ul></div></div><div class="nav-item"><a href="https://discord.gg/qsxVMNg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ghostzero/tmi-website" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>[Private] OWN3D Cloudbot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cloudbot/" aria-current="page" class="sidebar-link">Getting Started</a></li><li><a href="/cloudbot/auto-mod.html" class="sidebar-link">Auto Mod</a></li><li><a href="/cloudbot/timers.html" class="sidebar-link">Timers</a></li><li><a href="/cloudbot/giveaways.html" class="sidebar-link">Giveaways</a></li><li><a href="/cloudbot/command-settings.html" class="sidebar-link">Command Settings</a></li><li><a href="/cloudbot/custom-commands.html" aria-current="page" class="active sidebar-link">Custom Commands</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cloudbot/custom-commands.html#custom-commands-2" class="sidebar-link">Custom Commands</a></li><li class="sidebar-sub-header"><a href="/cloudbot/custom-commands.html#advanced-custom-commands" class="sidebar-link">Advanced Custom Commands</a></li><li class="sidebar-sub-header"><a href="/cloudbot/custom-commands.html#using-templates-in-custom-commands" class="sidebar-link">Using templates in custom commands</a></li><li class="sidebar-sub-header"><a href="/cloudbot/custom-commands.html#the-message-template" class="sidebar-link">The Message template</a></li><li class="sidebar-sub-header"><a href="/cloudbot/custom-commands.html#examples-of-custom-commands" class="sidebar-link">Examples of custom commands</a></li></ul></li><li><a href="/cloudbot/template-reference.html" class="sidebar-link">Template Reference</a></li><li><a href="/cloudbot/all-commands.html" class="sidebar-link">All Commands</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="custom-commands"><a href="#custom-commands" class="header-anchor">#</a> Custom Commands</h1> <p>Custom commands allow you to create your own commands. The Custom Command system in OWN3D Pro is somewhat complex and can be used for some advanced stuff.</p> <h2 id="custom-commands-2"><a href="#custom-commands-2" class="header-anchor">#</a> Custom Commands</h2> <p><img src="/assets/img/create-a-command.b67d1aca.png" alt="Create a OWN3D Pro Command"></p> <p>To create your first custom command, go to the OWN3D Pro Dashboard. There you click on Commands.</p> <h2 id="advanced-custom-commands"><a href="#advanced-custom-commands" class="header-anchor">#</a> Advanced Custom Commands</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Some basic coding knowledge with <a href="https://twig.symfony.com/doc/2.x/" target="_blank" rel="noopener noreferrer">Twig<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> may be required to use some of these features.</p></div> <h2 id="using-templates-in-custom-commands"><a href="#using-templates-in-custom-commands" class="header-anchor">#</a> Using templates in custom commands</h2> <p>If you wish to do anything more than a &quot;Type in a command&quot; -&gt; &quot;Make the bot say something.&quot; Such as getting information on the person calling the command, and many others things. It is recommended that you check out this page:</p> <h3 id="synopsis"><a href="#synopsis" class="header-anchor">#</a> Synopsis</h3> <p>A template is a regular text file. It can generate any text-based irc messages.</p> <p>A template contains <strong>variables</strong> or <strong>expressions</strong>, which get replaced with values when the template is evaluated, and <strong>tags</strong>, which control the template’s logic.</p> <p>Below is a minimal template that illustrates a few basics. We will cover further details later on:</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">set</span></span> <span class="token property">number</span> <span class="token operator">=</span> <span class="token property">random</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">if</span></span> <span class="token property">number</span> <span class="token operator">==</span> <span class="token number">6</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
  <span class="token other">You rolled your lucky 6 today!</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">else</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
  <span class="token other">You rolled</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">number</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">!</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
</code></pre></div><p>There are two kinds of delimiters:</p> <div class="language-text extra-class"><pre class="language-text"><code>{% ... %} // this one is used to execute statements such as for-loops
</code></pre></div><p>and</p> <div class="language-text extra-class"><pre class="language-text"><code>{{ ... }} // this one is used to outputs the result of an expression
</code></pre></div><h3 id="variables"><a href="#variables" class="header-anchor">#</a> Variables</h3> <p>The chatbot passes variables to the templates for manipulation in the template. Variables may have attributes or elements you can access, too. The visual representation of a variable depends heavily on the chatbot providing it.</p> <p>Use a dot (.) to access attributes of a variable.</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">irc</span><span class="token punctuation">.</span><span class="token property">channel</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div><blockquote><p>It’s important to know that the curly braces are not part of the variable but the print statement. When accessing variables inside tags, don’t put the braces around them.</p></blockquote> <p>If a variable or attribute does not exist, you will receive a null value when the strict_variables option is set to false; alternatively, if strict_variables is set, Twig will throw an error (see environment options).</p> <p>If you want to access a dynamic attribute of a variable, use the attribute function instead.</p> <p>The attribute function is also useful when the attribute contains special characters (like - that would be interpreted as the minus operator):</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token comment">{# equivalent to the non-working irc.tags.room-id #}</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">attribute</span><span class="token punctuation">(</span><span class="token property">irc</span><span class="token punctuation">.</span><span class="token property">tags</span><span class="token punctuation">,</span> <span class="token string"><span class="token punctuation">'</span>room-id<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div><h3 id="filters"><a href="#filters" class="header-anchor">#</a> Filters</h3> <p>Variables can be modified by filters. Filters are separated from the variable by a pipe symbol (|). Multiple filters can be chained. The output of one filter is applied to the next.</p> <p>The following example title-cases the irc message:</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">irc</span><span class="token punctuation">.</span><span class="token property">message</span><span class="token operator">|</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div><h3 id="control-structure"><a href="#control-structure" class="header-anchor">#</a> Control Structure</h3> <p>A control structure refers to all those things that control the flow of a program - conditionals (i.e. if/elseif/else), for-loops, as well as things like blocks. Control structures appear inside <code>{% ... %}</code> blocks.</p> <p>In this example, we roll a dice:</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">set</span></span> <span class="token property">number</span> <span class="token operator">=</span> <span class="token property">random</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">if</span></span> <span class="token property">number</span> <span class="token operator">==</span> <span class="token number">6</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
  <span class="token other">You rolled your lucky 6 today!</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">else</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
  <span class="token other">You rolled</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">number</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">!</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
</code></pre></div><h2 id="the-message-template"><a href="#the-message-template" class="header-anchor">#</a> The Message template</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Checkout our <a href="/cloudbot/template-reference.html">Template Reference</a> for all <code>Command</code>, <code>IRC</code> message templates and our <code>Database</code>, <code>Cache</code>, <code>HTTP JSON Request</code> and many other functions.</p></div> <h3 id="command"><a href="#command" class="header-anchor">#</a> Command</h3> <table><thead><tr><th>Field</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>command.command</td> <td>string</td> <td></td></tr> <tr><td>command.commands</td> <td>array</td> <td></td></tr> <tr><td>command.command_aliases</td> <td>array</td> <td></td></tr> <tr><td>command.response</td> <td>mixed</td> <td></td></tr> <tr><td>command.command_regex</td> <td>string</td> <td></td></tr> <tr><td>command.permissions</td> <td>int</td> <td></td></tr> <tr><td>command.price</td> <td>int</td> <td></td></tr> <tr><td>command.send_as</td> <td>string</td> <td></td></tr> <tr><td>command.enable_when</td> <td>string</td> <td></td></tr> <tr><td>command.user_cooldown</td> <td>int</td> <td></td></tr> <tr><td>command.global_cooldown</td> <td>int</td> <td></td></tr> <tr><td>command.is_visible</td> <td>bool</td> <td></td></tr></tbody></table> <h3 id="irc"><a href="#irc" class="header-anchor">#</a> IRC</h3> <table><thead><tr><th>Field</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>irc.tags</td> <td>mixed</td> <td>Twitch IRC user state object</td></tr> <tr><td>irc.channel</td> <td>string</td> <td>Raw channel username</td></tr> <tr><td>irc.message</td> <td>string</td> <td>Raw message</td></tr></tbody></table> <h2 id="examples-of-custom-commands"><a href="#examples-of-custom-commands" class="header-anchor">#</a> Examples of custom commands</h2> <p>Here we offer the few examples to show what our template system can do:</p> <h3 id="fetch-information-from-database"><a href="#fetch-information-from-database" class="header-anchor">#</a> Fetch information from database</h3> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">You currently have</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">db</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>membership<span class="token punctuation">'</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">currency</span><span class="token operator">|</span><span class="token property">default</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token other">Currency!</span>
</code></pre></div><div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">Your channel url is own3d.pro/</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">db</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>channel<span class="token punctuation">'</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">slug</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div><h3 id="working-with-the-cache-update-database-information"><a href="#working-with-the-cache-update-database-information" class="header-anchor">#</a> Working with the cache &amp; update database information</h3> <p>In this example, we allow the user to generate currency every 5 minutes.</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">if</span></span> <span class="token property">cache</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>timely<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
  <span class="token other">You're still on your cooldown period.</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">else</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
  <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">cache</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>timely<span class="token punctuation">'</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
  <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">inc</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>membership<span class="token punctuation">'</span></span><span class="token punctuation">,</span> <span class="token string"><span class="token punctuation">'</span>curreny<span class="token punctuation">'</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token rd"><span class="token punctuation">}}</span></span></span>
  <span class="token other">You collected $1!</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
</code></pre></div><h3 id="creating-json-requests"><a href="#creating-json-requests" class="header-anchor">#</a> Creating json requests</h3> <p>The <code>json</code> method allows you to fetch data from another services.
To learn more about this function, checkout <a href="/cloudbot/template-reference.html#http-json-requests">HTTP JSON Requests</a>.</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">Random Quote:</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">json</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>GET<span class="token punctuation">'</span></span><span class="token punctuation">,</span> <span class="token string"><span class="token punctuation">'</span>https://api.quotable.io/random<span class="token punctuation">'</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">content</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div><h3 id="magic-8-ball"><a href="#magic-8-ball" class="header-anchor">#</a> Magic 8-Ball</h3> <p>This will create a simple <code>!8ball</code> command.</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">set</span></span> <span class="token property">answers</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string"><span class="token punctuation">&quot;</span>As I see it, yes<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>It is certain<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>It is decidedly so<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Most likely<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Outlook good<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Signs point to yes<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Without a doubt<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Yes<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Yes - definitely<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>You may rely on it<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Reply hazy, try again<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Ask again later<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Better not tell you now<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Cannot predict now<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Concentrate and ask again<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Don't count on it<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>My reply is no<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>My sources say no<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Outlook not so good<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>Very doubtful<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">]</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">random</span><span class="token punctuation">(</span><span class="token property">answers</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div><h3 id="lurk-messages"><a href="#lurk-messages" class="header-anchor">#</a> Lurk Messages</h3> <p>Twitch lurker is a term given to a passive viewer who is watching a stream but not contributing to the channel’s chat. People who are lurking in chat are often assumed to be bot traffic when in reality lurkers make up the vast majority of viewers on the platform.</p> <p>Create a funny <code>!lurk</code> command:</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">set</span></span> <span class="token property">messages</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string"><span class="token punctuation">&quot;</span>is watching from the bushes.<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>has spilled tea on their keyboard so they will not be chatting.<span class="token punctuation">&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string"><span class="token punctuation">&quot;</span>is lurking in the shadows like a big spooky weirdo.<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">]</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">attribute</span><span class="token punctuation">(</span><span class="token property">irc</span><span class="token punctuation">.</span><span class="token property">tags</span><span class="token punctuation">,</span> <span class="token string"><span class="token punctuation">'</span>display-name<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">random</span><span class="token punctuation">(</span><span class="token property">messages</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div><h3 id="shoutout"><a href="#shoutout" class="header-anchor">#</a> Shoutout</h3> <p>Create a shoutout command <code>!so &lt;username&gt;</code>:</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">set</span></span> <span class="token property">channel</span> <span class="token operator">=</span> <span class="token property">channel</span><span class="token punctuation">(</span><span class="token property">user</span><span class="token punctuation">(</span><span class="token property">args</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">id</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">if</span></span> <span class="token property">channel</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
    <span class="token other">Check out</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">channel</span><span class="token punctuation">.</span><span class="token property">name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token other">over at</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">channel</span><span class="token punctuation">.</span><span class="token property">url</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">, they are playing</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">channel</span><span class="token punctuation">.</span><span class="token property">game</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">!</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">else</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
    <span class="token other">Please define a valid user with &quot;!so <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>&quot;.</span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ghostzero/tmi-website/edit/main/docs/cloudbot/custom-commands.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/16/2022, 11:55:04 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cloudbot/command-settings.html" class="prev">
        Command Settings
      </a></span> <span class="next"><a href="/cloudbot/template-reference.html">
        Template Reference
      </a>
      →
    </span></p></div> </main></div> <script>
    kofiWidgetOverlay.draw('ene', {
      'type': 'floating-chat',
      'floating-chat.donateButton.text': 'Support me',
      'floating-chat.donateButton.background-color': '#ff38b8',
      'floating-chat.donateButton.text-color': '#fff'
    });
  </script></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7fb1c865.js" defer></script><script src="/assets/js/2.dae40f8a.js" defer></script><script src="/assets/js/9.e0b79f5d.js" defer></script>
  </body>
</html>
